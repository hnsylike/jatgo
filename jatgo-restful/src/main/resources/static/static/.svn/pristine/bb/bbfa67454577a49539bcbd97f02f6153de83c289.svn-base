webpackJsonp([2],{"5WJN":function(t,e){},HeQi:function(t,e){},Qn3v:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mtWM"),i=a.n(s),n=a("X2Oc"),r={name:"personCenter",data:function(){return{perCustomerID:"",perUserID:"",perUsername:"",edits:"编辑",personEdit:[{date:"",name:"",province:"",ip:"",phone:"",zip:""}],isInputShow:!1,input1:"",input2:"",input3:"",input4:"",isShow1:!1,isShow2:!1,optionsPer:[{value:"T0"},{value:"Algo"}],value:"",valueTimeRange:"",perValueTimeStar:"",perValueTimeEnd:"",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},changePswShow:!1,personCenNowPsw:"",personCenNewPsw:"",personCenNewPswConfirm:"",perpsonPswValue:""}},mounted:function(){this.getNameperson()},methods:{getNameperson:function(){for(var t=0;t<this.personEdit.length;t++)this.personEdit[t].name=n.a.decipher("wsUserName"),this.personEdit[t].phone=n.a.decipher("userPhone")},handleEdit:function(t,e){console.log(t,e,e.date),"编辑"==this.edits?(this.edits="取消编辑",this.input1="",this.input2="",this.input3="",this.input4="",this.isInputShow=!0):"取消编辑"==this.edits&&(this.edits="编辑",this.isInputShow=!1)},handleSaves:function(t,e){if(n.a.isNull(this.input1)&&n.a.isNull(this.input2)&&n.a.isNull(this.input3)&&n.a.isNull(this.input4)||0==this.isInputShow)return n.a.altPrompt("暂不可保存"),!1;for(var a=0;a<this.personEdit.length;a++)n.a.isNotNull(this.input1)&&(this.personEdit[a].date=this.input1),n.a.isNotNull(this.input2)&&(this.personEdit[a].name=this.input2),n.a.isNotNull(this.input3)&&(this.personEdit[a].ip=this.input3),n.a.isNotNull(this.input4)&&(this.personEdit[a].phone=this.input4);n.a.altPrompt("保存成功"),this.edits="编辑",this.isInputShow=!1,console.log(t,e)},changePsw:function(){console.log("点击修改密码按钮"),this.changePswShow=!0},cancelPerPsw:function(){console.log("取消修改密码"),this.personCenNowPsw="",this.personCenNewPsw="",this.personCenNewPswConfirm="",this.changePswShow=!1,n.a.altPrompt("已取消")},subPerPsw:function(){var t=this;return this.perUserID=n.a.decipher("wsUserID"),n.a.isNull(this.personCenNowPsw)?(n.a.altPrompt("当前密码不能为空"),!1):n.a.isNull(this.personCenNewPsw)||n.a.isNull(this.personCenNewPswConfirm)?(n.a.altPrompt("新密码不能为空"),!1):this.personCenNewPsw!=this.personCenNewPswConfirm?(n.a.altPrompt("两次输入密码不一致，请确认后重新输入"),!1):this.personCenNowPsw==this.personCenNewPsw?(n.a.altPrompt("新密码不能与旧密码相同，请确认后重新输入"),!1):(console.log("q确认修改密码"+domain.personUpdatePwd+this.perUserID+"/"+this.personCenNewPsw),void i.a.get(domain.personUpdatePwd+this.perUserID+"/"+this.personCenNewPsw).then(function(e){console.log(e),"200"==e.data.httpCode?(n.a.altPrompt("修改密码成功"),t.$router.push({name:"login"})):n.a.altPrompt("修改密码失败")}).catch(function(t){console.log(t)}))},cencelPerPswX:function(){this.personCenNowPsw="",this.personCenNewPsw="",this.personCenNewPswConfirm="",this.changePswShow=!1},elbut1:function(){this.isShow1=!0,this.isShow2=!1},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},elbut2:function(){this.isShow2=!0,this.isShow1=!1},butDown:function(){console.log(this.valueTimeRange),this.perUsername=n.a.decipher("wsUserName"),this.perCustomerID=n.a.decipher("wsCustomerID"),this.valueTimeRange=n.a.changeTimeStamp(this.valueTimeRange),this.perValueTimeStar=n.a.changeTime(this.valueTimeRange.valueTimeStar),this.perValueTimeEnd=n.a.changeTime(this.valueTimeRange.valueTimeEnd),console.log(domain.perActualCsvFile+"/"+this.perCustomerID+"/"+this.value+"/"+this.perValueTimeStar,"下载文件",this.perCustomerID,this.value,this.perValueTimeStar,this.perValueTimeEnd),i.a.get(domain.perActualCsvFile+this.perCustomerID+"/"+this.value+"/"+this.perValueTimeStar).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("个人管理中心")]),t._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.personEdit,border:""}},[a("el-table-column",{attrs:{fixed:"",label:"日期",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.date))]),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.isInputShow,expression:"isInputShow"}],attrs:{placeholder:"请输入日期"},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"用户名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))]),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.isInputShow,expression:"isInputShow"}],attrs:{placeholder:"请输入姓名"},model:{value:t.input2,callback:function(e){t.input2=e},expression:"input2"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"ip地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.ip))]),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.isInputShow,expression:"isInputShow"}],attrs:{placeholder:"请输入ip"},model:{value:t.input3,callback:function(e){t.input3=e},expression:"input3"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"电话"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.phone))]),t._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.isInputShow,expression:"isInputShow"}],attrs:{placeholder:"请输入电话"},model:{value:t.input4,callback:function(e){t.input4=e},expression:"input4"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作1",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v(t._s(t.edits))])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作2",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleSaves(e.$index,e.row)}}},[t._v("保存")])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作3",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:t.changePsw}},[t._v("修改密码")])]}}])})],1)],t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"perCenDoc"}},[a("el-button",{on:{click:t.elbut1}},[t._v("上传报表")]),t._v(" "),a("el-button",{on:{click:t.elbut2}},[t._v("下载报表")]),t._v(" "),a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow1,expression:"isShow1"}],attrs:{id:"uploadDoc"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{accept:".csv",action:"https://jsonplaceholder.typicode.com/posts/",multiple:"","on-preview":t.handlePreview,"on-remove":t.handleRemove,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary"},on:{click:t.submitUpload}},[t._v("上传到服务器")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传csv文件，且不超过500kb")])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow2,expression:"isShow2"}],attrs:{id:"downloadDoc"}},[[[a("div",[a("span",{staticClass:"choiceStrategy"},[t._v("请选择策略类型：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.optionsPer,function(t){return a("el-option",{key:t.value,attrs:{value:t.value}})}))],1)],t._v(" "),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[t._v("请选择时间范围：")]),t._v(" "),a("el-date-picker",{attrs:{type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right","default-time":["00:00:00","23:59:59"]},model:{value:t.valueTimeRange,callback:function(e){t.valueTimeRange=e},expression:"valueTimeRange"}})],1)],t._v(" "),a("el-button",{attrs:{type:"primary",id:"download",name:"download"},on:{click:t.butDown}},[t._v("下载报表")])],2)])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.changePswShow,expression:"changePswShow"}],attrs:{id:"personCenAlt"}},[a("div",{attrs:{id:"personCenAlt-content"}},[a("i",{staticClass:"el-icon-close",on:{click:t.cencelPerPswX}}),t._v(" "),a("div",[a("span",[t._v("请输入当前密码")]),t._v(" "),a("el-input",{attrs:{type:"password",placeholder:"请输入当前密码"},model:{value:t.personCenNowPsw,callback:function(e){t.personCenNowPsw=e},expression:"personCenNowPsw"}})],1),t._v(" "),a("div",[a("span",[t._v("请输入新密码")]),t._v(" "),a("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:t.personCenNewPsw,callback:function(e){t.personCenNewPsw=e},expression:"personCenNewPsw"}})],1),t._v(" "),a("div",[a("span",[t._v("请重新输入新密码")]),t._v(" "),a("el-input",{attrs:{type:"password",placeholder:"请重新输入新密码"},model:{value:t.personCenNewPswConfirm,callback:function(e){t.personCenNewPswConfirm=e},expression:"personCenNewPswConfirm"}})],1),t._v(" "),a("p",[t._v(t._s(t.perpsonPswValue))]),t._v(" "),a("div",[a("el-button",{attrs:{round:""},on:{click:t.cancelPerPsw}},[t._v("取消修改")]),t._v(" "),a("el-button",{attrs:{type:"success",round:""},on:{click:t.subPerPsw}},[t._v("确认修改")])],1)])])],2)},staticRenderFns:[]};var d={inject:["reload"],name:"index",data:function(){return{userid:"",selected1:"",options1:[],indexClientID:"",id:"",selected2:"",options2:[],options2AccountId:[],indexAccountId:"",inpSymbol:"",inpOrderQty:"",inpPrice:"",pickedRadio1:"",pickedRadio2:"",pickedRadio3:"",inpOrderTypeOptions:[{inpOrderTypes:"TWAP"},{inpOrderTypes:"VWAP"}],inpOrderType:"",valueTime:"",valueTimeStar:"",valueTimeEnd:"",indexTableData:[],datas:"",currentPage:1,pages:""}},methods:{showPro:function(){var t=this;this.userid=n.a.decipher("wsUserID"),console.log(domain.indFindCustomer+this.userid),i.a.get(domain.indFindCustomer+this.userid).then(function(e){console.log(e),"200"==e.data.httpCode?t.options1=e.data.responseEntity:n.a.altPrompt("未发现账户名，请刷新重试")}).catch(function(t){console.log(t)})},changePro:function(){var t=this;console.log(this.selected1,this.options1);for(var e=0;e<this.options1.length;e++)this.selected1==this.options1[e].clientName&&(this.indexClientID=this.options1[e].clientId);console.log(domain.indFindStrategy+this.indexClientID),i.a.get(domain.indFindStrategy+this.indexClientID).then(function(e){if(console.log(e),t.options2=[],"200"==e.data.httpCode){for(var a=0;a<e.data.responseEntity.length;a++)"2001"==e.data.responseEntity[a].strategyId?e.data.responseEntity[a].strategyId="T0":"2002"==e.data.responseEntity[a].strategyId&&(e.data.responseEntity[a].strategyId="Algo"),t.options2.push(e.data.responseEntity[a].strategyId);t.options2AccountId=e.data.responseEntity}else n.a.altPrompt("未发现策略，请重试");console.log(t.options2)}).catch(function(t){console.log(t)}),console.log(domain.QueryOrderEightByClientId+this.indexClientID+"/3/1/100"),i.a.get(domain.QueryOrderEightByClientId+this.indexClientID+"/3/1/100").then(function(e){if(console.log(e),"200"==e.data.httpCode){for(var a=0;a<e.data.responseEntity.pageData.length;a++){"0"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="已报":"1"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="部成":"2"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="已成":"4"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="已撤":"6"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="待撤":"8"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="拒绝":"10"==e.data.responseEntity.pageData[a].ordStatus&&(e.data.responseEntity.pageData[a].ordStatus="未报"),e.data.responseEntity.pageData[a].sendingTime=n.a.changeTime(e.data.responseEntity.pageData[a].sendingTime),e.data.responseEntity.pageData[a].transactTime=n.a.changeTime(e.data.responseEntity.pageData[a].transactTime),"0"==e.data.responseEntity.pageData[a].securityType?e.data.responseEntity.pageData[a].securityType="CS":"13"==e.data.responseEntity.pageData[a].securityType?e.data.responseEntity.pageData[a].securityType="RB":"15"==e.data.responseEntity.pageData[a].securityType&&(e.data.responseEntity.pageData[a].securityType="ETF"),"1"==e.data.responseEntity.pageData[a].side?e.data.responseEntity.pageData[a].side="买":"2"==e.data.responseEntity.pageData[a].side&&(e.data.responseEntity.pageData[a].side="卖"),"1"==e.data.responseEntity.pageData[a].securityExchange?e.data.responseEntity.pageData[a].securityExchange="SZ":"2"==e.data.responseEntity.pageData[a].securityExchange&&(e.data.responseEntity.pageData[a].securityExchange="SH"),"0"==e.data.responseEntity.pageData[a].ordType?e.data.responseEntity.pageData[a].ordType="限价委托":"1"==e.data.responseEntity.pageData[a].ordType&&(e.data.responseEntity.pageData[a].ordType="信用委托");var s="";0==(s+=e.data.responseEntity.pageData[a].symbol).length?e.data.responseEntity.pageData[a].symbol="000000":1==s.length?e.data.responseEntity.pageData[a].symbol="00000"+s:2==s.length?e.data.responseEntity.pageData[a].symbol="0000"+s:3==s.length?e.data.responseEntity.pageData[a].symbol="000"+s:4==s.length?e.data.responseEntity.pageData[a].symbol="00"+s:5==s.length&&(e.data.responseEntity.pageData[a].symbol="0"+s)}t.indexTableData=e.data.responseEntity.pageData}}).catch(function(t){console.log(t)})},indexReadyChat:function(t){console.log(t,this.websock.readyState),1===this.websock.readyState?(console.log("链接成功readyState === 1"),this.indexWebsocketSend(t)):0===this.websock.readyState?(console.log("正在链接"),setTimeout(this.indexWebsocketSend(t),300)):(console.log("链接失败"),this.indexWebsocketInit(),setTimeout(this.indexWebsocketSend(t),500))},indexWebsocketInit:function(){console.log(domain.authBaseWebsocketOrdinary),this.websock=new WebSocket(domain.authBaseWebsocketOrdinary),console.log(this.websock.readyState),this.websock.onopen=this.indexWebsocketOpen,this.websock.onmessage=this.indexWebsocketMessage},indexWebsocketOpen:function(t){console.log("userId_"+n.a.decipher("wsUserID")),this.websock.send("userId_"+n.a.decipher("wsUserID"))},indexWebsocketSend:function(t){console.log(t,"发送消息"),this.websock.send(t)},indexWebsocketMessage:function(t){if(console.log(t),this.responseDatas=JSON.parse(t.data),n.a.isNull(t))n.a.altPrompt("暂无回报"),this.indexTableData=[];else if("3"==this.responseDatas.handlInst){console.log(this.responseDatas,this.responseDatas.clOrdId,this.responseDatas.ordStatus),"0"==this.responseDatas.ordStatus?this.responseDatas.ordStatus="已报":"1"==this.responseDatas.ordStatus?this.responseDatas.ordStatus="部成":"2"==this.responseDatas.ordStatus?this.responseDatas.ordStatus="已成":"4"==this.responseDatas.ordStatus?this.responseDatas.ordStatus="已撤":"6"==this.responseDatas.ordStatus?this.responseDatas.ordStatus="待撤":"8"==this.responseDatas.ordStatus?this.responseDatas.ordStatus="拒绝":"10"==this.responseDatas.ordStatus&&(this.responseDatas.ordStatus="未报"),this.responseDatas.sendingTime=n.a.changeTime(this.responseDatas.sendingTime),this.responseDatas.transactTime=n.a.changeTime(this.responseDatas.transactTime),"0"==this.responseDatas.securityType?this.responseDatas.securityType="CS":"13"==this.responseDatas.securityType?this.responseDatas.securityType="RB":"15"==this.responseDatas.securityType&&(this.responseDatas.securityType="ETF"),"1"==this.responseDatas.side?this.responseDatas.side="买":"2"==this.responseDatas.side&&(this.responseDatas.side="卖"),"1"==this.responseDatas.securityExchange?this.responseDatas.securityExchange="SZ":"2"==this.responseDatas.securityExchange&&(this.responseDatas.securityExchange="SH"),"0"==this.responseDatas.ordType?this.responseDatas.ordType="限价委托":"1"==this.responseDatas.ordType&&(this.responseDatas.ordType="信用委托");var e="";0==(e+=this.responseDatas.symbol).length?this.responseDatas.symbol="000000":1==e.length?this.responseDatas.symbol="00000"+e:2==e.length?this.responseDatas.symbol="0000"+e:3==e.length?this.responseDatas.symbol="000"+e:4==e.length?this.responseDatas.symbol="00"+e:5==e.length&&(this.responseDatas.symbol="0"+e);var a="0";console.log(this.indexTableData);for(var s=0;s<this.indexTableData.length;s++)this.responseDatas.clOrdId==this.indexTableData[s].clOrdId&&(a="1",this.indexTableData[s].ordStatus=this.responseDatas.ordStatus,this.indexTableData[s].sendingTime=this.responseDatas.sendingTime,this.indexTableData[s].clOrdId=this.responseDatas.clOrdId,this.indexTableData[s].clientId=this.responseDatas.clientId,this.indexTableData[s].handlInst=this.responseDatas.handlInst,this.indexTableData[s].symbol=this.responseDatas.symbol,this.indexTableData[s].securityType=this.responseDatas.securityType,this.indexTableData[s].securityExchange=this.responseDatas.securityExchange,this.indexTableData[s].side=this.responseDatas.side,this.indexTableData[s].transactTime=this.responseDatas.transactTime,this.indexTableData[s].orderQty=this.responseDatas.orderQty,this.indexTableData[s].ordType=this.responseDatas.ordType,this.indexTableData[s].price=this.responseDatas.price,this.indexTableData[s].cumQty=this.responseDatas.cumQty,this.indexTableData[s].leavesQty=this.responseDatas.leavesQty,this.indexTableData[s].avgPx=this.responseDatas.avgPx);"0"==a&&this.indexTableData.unshift(this.responseDatas)}},indexWebsockclose:function(t){console.log("close"+t)},entrustStock:function(){var t=this;console.log(n.a.getNowFormatDate(),new Date(n.a.getNowFormatDate()).getTime(),this.options2AccountId,this.selected2,this.selected1,this.options1);for(var e=0;e<this.options1.length;e++)this.selected1==this.options1[e].clientName&&(this.indexClientID=this.options1[e].clientId);console.log(this.indexClientID),this.indexReadyChat("clientId_"+this.indexClientID),this.valueTime=n.a.changeTimeStamp(this.valueTime),this.valueTimeStar=this.valueTime.valueTimeStar,this.valueTimeEnd=this.valueTime.valueTimeEnd;var a=new Date(this.valueTimeStar).getTime(),s=new Date(n.a.getNowFormatDate()).getTime();console.log(this.valueTimeStar,this.valueTimeEnd,a,s);var r=/^[0-9]\d*$/,o=this.inpSymbol.substr(0,1),d=this.inpSymbol.substr(0,2);if(console.log(o,d,this.inpOrderQty.substr(0,1)),n.a.isNull(this.selected1))return n.a.altPrompt("请选择产品名"),!1;if(n.a.isNull(this.selected2))return n.a.altPrompt("请选择策略"),!1;if(n.a.isNull(this.inpOrderType))return n.a.altPrompt("请选择委托类型"),!1;if("6"!=this.inpSymbol.length||!r.test(this.inpSymbol)||"00"!=d&&"30"!=d&&"15"!=d&&"13"!=d&&"2"!=o&&"5"!=o&&"6"!=o)return n.a.altPrompt("股票代码错误"),!1;if(console.log("股票代码正确"),!r.test(this.inpOrderQty)||0==this.inpOrderQty.substr(0,1)||0==n.a.goAliquot(this.inpOrderQty))return n.a.altPrompt("股数错误"),!1;if(console.log("股数正确"),n.a.isNull(this.inpPrice)||0==this.inpPrice)return n.a.altPrompt("股价不能为空或零"),!1;if(!(r.test(this.inpPrice)&&0!=this.inpPrice.substr(0,1)||/^[0-9]+(.[0-9]{2})?$/.test(this.inpPrice)))return n.a.altPrompt("股价错误"),!1;if(console.log("股价正确"),n.a.isNull(this.pickedRadio1))return n.a.altPrompt("请选择委托买卖方向"),!1;if(n.a.isNull(this.pickedRadio2))return n.a.altPrompt("请选择涨停跌停后是否买卖"),!1;if(n.a.isNull(this.pickedRadio3))return n.a.altPrompt("请选择结束时间后是否继续执行"),!1;if(a<s)return n.a.altPrompt("最晚时间不得早于当天"),this.valueTime="",!1;for(var p=0;p<this.options2AccountId.length;p++)this.selected2==this.options2AccountId[p].strategyId&&(this.indexAccountId=this.options2AccountId[p].accountId);"买"==this.pickedRadio1?this.pickedRadio1="1":"卖"==this.pickedRadio1&&(this.pickedRadio1="2"),"是"==this.pickedRadio2?this.pickedRadio2="1":"否"==this.pickedRadio2&&(this.pickedRadio2="0"),"是"==this.pickedRadio3?this.pickedRadio3="1":"否"==this.pickedRadio3&&(this.pickedRadio3="0"),console.log(domain.indNewAlgorithmOrder,this.pickedRadio1,this.pickedRadio2,this.pickedRadio3,this.indexAccountId),i.a.post(domain.indNewAlgorithmOrder,{userid:this.userid,clientID:this.indexClientID,AccountID:this.indexAccountId,symbol:this.inpSymbol,orderQty:this.inpOrderQty,price:this.inpPrice,side:this.pickedRadio1,limitAction:this.pickedRadio2,afterAction:this.pickedRadio3,ordType:this.inpOrderType,EffectiveTime:this.valueTimeStar,ExpireTime:this.valueTimeEnd}).then(function(e){console.log(e),"200"==e.data.httpCode?(n.a.altPrompt("委托成功"),t.selected2="",t.inpSymbol="",t.inpOrderQty="",t.inpPrice="",t.pickedRadio1="",t.pickedRadio2="",t.pickedRadio3="",t.inpOrderType="",t.valueTimeStar="",t.valueTimeEnd="",t.changePro()):"400"==e.data&&n.a.altPrompt("委托失败")}).catch(function(t){console.log(t)})},indexUndo:function(t,e){console.log(t,e)},getSimulateReturns:function(){var t=this;this.userid=n.a.decipher("wsUserID"),console.log(domain.QueryOrderEightByUserId+this.userid+"/3/1/100"),i.a.get(domain.QueryOrderEightByUserId+this.userid+"/3/1/100").then(function(e){if(console.log(e),"200"==e.data.httpCode){for(var a=0;a<e.data.responseEntity.pageData.length;a++){"0"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="已报":"1"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="部成":"2"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="已成":"4"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="已撤":"6"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="待撤":"8"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="拒绝":"10"==e.data.responseEntity.pageData[a].ordStatus&&(e.data.responseEntity.pageData[a].ordStatus="未报"),e.data.responseEntity.pageData[a].sendingTime=n.a.changeTime(e.data.responseEntity.pageData[a].sendingTime),e.data.responseEntity.pageData[a].transactTime=n.a.changeTime(e.data.responseEntity.pageData[a].transactTime),"0"==e.data.responseEntity.pageData[a].securityType?e.data.responseEntity.pageData[a].securityType="CS":"13"==e.data.responseEntity.pageData[a].securityType?e.data.responseEntity.pageData[a].securityType="RB":"15"==e.data.responseEntity.pageData[a].securityType&&(e.data.responseEntity.pageData[a].securityType="ETF"),"1"==e.data.responseEntity.pageData[a].side?e.data.responseEntity.pageData[a].side="买":"2"==e.data.responseEntity.pageData[a].side&&(e.data.responseEntity.pageData[a].side="卖"),"1"==e.data.responseEntity.pageData[a].securityExchange?e.data.responseEntity.pageData[a].securityExchange="SZ":"2"==e.data.responseEntity.pageData[a].securityExchange&&(e.data.responseEntity.pageData[a].securityExchange="SH"),"0"==e.data.responseEntity.pageData[a].ordType?e.data.responseEntity.pageData[a].ordType="限价委托":"1"==e.data.responseEntity.pageData[a].ordType&&(e.data.responseEntity.pageData[a].ordType="信用委托");var s="";0==(s+=e.data.responseEntity.pageData[a].symbol).length?e.data.responseEntity.pageData[a].symbol="000000":1==s.length?e.data.responseEntity.pageData[a].symbol="00000"+s:2==s.length?e.data.responseEntity.pageData[a].symbol="0000"+s:3==s.length?e.data.responseEntity.pageData[a].symbol="000"+s:4==s.length?e.data.responseEntity.pageData[a].symbol="00"+s:5==s.length&&(e.data.responseEntity.pageData[a].symbol="0"+s)}t.indexTableData=e.data.responseEntity.pageData}}).catch(function(t){console.log(t)})},getSimulateReturn:function(){this.datas=[{page:"1",datas:[{adaptorPwd1:"711213",adaptorPwd2:"zjm711213",adaptorType:"TDX",adaptorUser1:"22002248",adaptorUser2:"22002248",broker:"zhongyin",clientID:100116,clientName:"zhongyinZjm",customerID:16,id:15,isCredit:0},{adaptorPwd1:"633147",adaptorType:"TDX",adaptorUser1:"26983379",adaptorUser2:"26983379",broker:"zxjt",clientID:100117,clientName:"zxjtLhzc",customerID:16,id:18,isCredit:0},{adaptorPwd1:"616177",adaptorType:"TDX",adaptorUser1:"310034401",adaptorUser2:"310034401",broker:"huaan",clientID:100092,clientName:"huaanFxb",customerID:16,id:39,isCredit:0},{adaptorPwd1:"891113",adaptorType:"TDX",adaptorUser1:"401000991",adaptorUser2:"401000991",broker:"minsheng",clientID:100103,clientName:"minshengYjy",customerID:16,id:40,isCredit:0},{adaptorPwd1:"838123",adaptorType:"TDX",adaptorUser1:"631037223",adaptorUser2:"631037223",broker:"xinan",clientID:100111,clientName:"xinanLjf",customerID:16,id:44,isCredit:0},{adaptorPwd1:"838123",adaptorType:"TDX",adaptorUser1:"631038027",adaptorUser2:"631038027",broker:"xinan",clientID:100112,clientName:"xinanLzg",customerID:16,id:45,isCredit:0},{adaptorPwd1:"838123",adaptorType:"TDX",adaptorUser1:"631038261",adaptorUser2:"631038261",broker:"xinan",clientID:100113,clientName:"xinanYl",customerID:16,id:46,isCredit:0},{adaptorPwd1:"838123",adaptorType:"TDX",adaptorUser1:"631038283",adaptorUser2:"631038283",broker:"xinan",clientID:100114,clientName:"xinanZyd",customerID:16,id:47,isCredit:0},{adaptorPwd1:"890522",adaptorType:"TDX",adaptorUser1:"1812094441",adaptorUser2:"1812094441",broker:"shenwan",clientID:100110,clientName:"shenwanZsw",customerID:16,id:68,isCredit:0},{adaptorPwd1:"179317",adaptorPwd2:"793147",adaptorType:"TDX",adaptorUser1:"2880000231",adaptorUser2:"2880000231",broker:"xingye",clientID:100086,clientName:"xingyeMxwg1",customerID:16,id:72,isCredit:0}]},{page:"2",datas:[{adaptorPwd1:"793769",adaptorType:"TDX",adaptorUser1:"3000131598",adaptorUser2:"3000131598",broker:"zhongxin",clientID:100115,clientName:"zhongxinJtqth5",customerID:16,id:73,isCredit:0},{adaptorPwd1:"135789",adaptorType:"TDX",adaptorUser1:"3900137015",adaptorUser2:"3900137015",broker:"shenwan",clientID:100104,clientName:"shenwanJcx",customerID:16,id:76,isCredit:1},{adaptorPwd1:"793769",adaptorType:"TDX",adaptorUser1:"26400817847",adaptorUser2:"16931110",broker:"guangfa",clientID:100089,clientName:"guangfaJtqth3",customerID:16,id:88,isCredit:0},{adaptorPwd1:"147258",adaptorType:"TDX",adaptorUser1:"40520000165",adaptorUser2:"40520000165",broker:"aijian",clientID:100085,clientName:"aijianYqq",customerID:16,id:90,isCredit:0},{adaptorPwd1:"147258",adaptorType:"TDX",adaptorUser1:"40520000208",adaptorUser2:"40520000208",broker:"aijian",clientID:100084,clientName:"aijianXmq",customerID:16,id:91,isCredit:0},{adaptorPwd1:"179317",adaptorType:"TDX",adaptorUser1:"1.1e+11",adaptorUser2:"1.1e+11",broker:"guoxin",clientID:100090,clientName:"guoxinMx10",customerID:16,id:106,isCredit:0},{adaptorPwd1:"179317",adaptorType:"TDX",adaptorUser1:"3.2e+11",adaptorUser2:"3.2e+11",broker:"dfcf",clientID:100088,clientName:"dfcfMx",customerID:16,id:130,isCredit:0},{adaptorPwd1:"206851",adaptorPwd2:"793147",adaptorType:"TDX",adaptorUser1:"3.3e+11",adaptorUser2:"3.3e+11",broker:"huatai",clientID:100097,clientName:"huataiMxgr23",customerID:16,id:133,isCredit:0},{adaptorPwd1:"757125",adaptorType:"TDX",adaptorUser1:"3.31e+11",adaptorUser2:"3.31e+11",broker:"yinhe",clientID:100118,clientName:"yinheLmf",customerID:16,id:135,isCredit:0},{adaptorPwd1:"168268",adaptorType:"TDX",adaptorUser1:"3.31e+11",adaptorUser2:"3.31e+11",broker:"yinhe",clientID:100119,clientName:"yinheLwm",customerID:16,id:136,isCredit:0}]},{page:"3",datas:[{adaptorPwd1:"753951",adaptorType:"TDX",adaptorUser1:"3.5e+11",adaptorUser2:"3.5e+11",broker:"huaxin",clientID:100102,clientName:"huaxinMxwfdr27",customerID:16,id:137,isCredit:0},{adaptorPwd1:"135246",adaptorType:"TDX",adaptorUser1:"4.1e+11",adaptorUser2:"4.1e+11",broker:"guoxin",clientID:100091,clientName:"guoxinQyyr1",customerID:16,id:140,isCredit:0},{adaptorPwd1:"179317",adaptorPwd2:"793147",adaptorType:"TDX",adaptorUser1:"6.67e+11",adaptorUser2:"6.67e+11",broker:"huatai",clientID:100093,clientName:"huataiGjhy7",customerID:16,id:154,isCredit:0},{adaptorPwd1:"179317",adaptorPwd2:"793147",adaptorType:"TDX",adaptorUser1:"6.67e+11",adaptorUser2:"6.67e+11",broker:"huatai",clientID:100094,clientName:"huataiLhjx1",customerID:16,id:155,isCredit:0},{adaptorPwd1:"179317",adaptorPwd2:"793147",adaptorType:"TDX",adaptorUser1:"6.67e+11",adaptorUser2:"6.67e+11",broker:"huatai",clientID:100095,clientName:"huataiMxdr30",customerID:16,id:156,isCredit:0},{adaptorPwd1:"662505",adaptorPwd2:"123321",adaptorType:"TDX",adaptorUser1:"6.67e+11",adaptorUser2:"6.67e+11",broker:"huatai",clientID:100098,clientName:"huataiQyyr2",customerID:16,id:157,isCredit:0},{adaptorPwd1:"753951",adaptorPwd2:"134679",adaptorType:"TDX",adaptorUser1:"6.67e+11",adaptorUser2:"6.67e+11",broker:"huatai",clientID:100099,clientName:"huataiWfdr27",customerID:16,id:158,isCredit:0},{adaptorPwd1:"179317",adaptorPwd2:"793147",adaptorType:"TDX",adaptorUser1:"6.67e+11",adaptorUser2:"6.67e+11",broker:"huatai",clientID:100100,clientName:"huataiZsdc1",customerID:16,id:159,isCredit:0},{adaptorPwd1:"588699",adaptorPwd2:"123123",adaptorType:"TDX",adaptorUser1:"6.67e+11",adaptorUser2:"6.67e+11",broker:"huatai",clientID:100101,clientName:"huataiZyy",customerID:16,id:160,isCredit:0},{adaptorPwd1:"562",adaptorType:"TDX",adaptorUser1:"8.01e+11",adaptorUser2:"8.01e+11",broker:"shenwan",clientID:100105,clientName:"shenwanJiaft",customerID:16,id:162,isCredit:0}]},{page:"4",datas:[{adaptorPwd1:"123456",adaptorType:"TDX",adaptorUser1:"8.01e+11",adaptorUser2:"8.01e+11",broker:"shenwan",clientID:100106,clientName:"shenwanLishaodong",customerID:16,id:163,isCredit:0},{adaptorPwd1:"666888",adaptorType:"TDX",adaptorUser1:"8.01e+11",adaptorUser2:"8.01e+11",broker:"shenwan",clientID:100107,clientName:"shenwanSyfhzfzp",customerID:16,id:164,isCredit:0},{adaptorPwd1:"123456",adaptorType:"TDX",adaptorUser1:"8.01e+11",adaptorUser2:"8.01e+11",broker:"shenwantmp",clientID:100108,clientName:"shenwantmp",customerID:16,id:165,isCredit:0},{adaptorPwd1:"123456",adaptorType:"TDX",adaptorUser1:"8.01e+11",adaptorUser2:"8.01e+11",broker:"shenwan",clientID:100109,clientName:"shenwanYanbj",customerID:16,id:166,isCredit:0}]}],this.pages=4;for(var t=0;t<this.datas.length;t++)this.indexTableData=this.datas[0].datas},handleCurrentChange:function(t){console.log("当前页: "+t,t);for(var e=0;e<this.datas.length;e++)this.datas[e].page==t?this.indexTableData=this.datas[e].datas:this.pages<t&&(this.indexTableData=[])}},mounted:function(){this.showPro(),this.handleCurrentChange(),this.getSimulateReturns(),this.indexWebsocketInit()}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"content-index"}},[a("div",{attrs:{id:"content-choice"}},[a("div",{attrs:{id:"index-fom"}},[a("div",{staticClass:"lab-buy"},[t._v("\n                    账"),a("span",{staticClass:"sp-ProNmae1"},[t._v("户")]),a("span",{staticClass:"sp-ProNmae2"},[t._v("名：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){t.changePro()}},model:{value:t.selected1,callback:function(e){t.selected1=e},expression:"selected1"}},t._l(t.options1,function(t){return a("el-option",{key:t.id,attrs:{value:t.clientName}})}))],1),t._v(" "),a("div",{staticClass:"lab-buy"},[t._v("\n                    策"),a("span",{staticClass:"sp-txt"},[t._v("略：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择策略"},model:{value:t.selected2,callback:function(e){t.selected2=e},expression:"selected2"}},t._l(t.options2,function(t){return a("el-option",{key:t,attrs:{value:t}})}))],1),t._v(" "),a("div",{staticClass:"lab-buy"},[a("span",{staticStyle:{"margin-right":"10px"}},[t._v("委托类型：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择委托类型"},model:{value:t.inpOrderType,callback:function(e){t.inpOrderType=e},expression:"inpOrderType"}},t._l(t.inpOrderTypeOptions,function(t){return a("el-option",{key:t.inpOrderTypes,attrs:{value:t.inpOrderTypes}})}))],1),t._v(" "),a("div",{staticClass:"lab-buy"},[t._v("\n                    代"),a("span",{staticClass:"sp-txt"},[t._v("码：")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入证券代码",maxlength:"6"},model:{value:t.inpSymbol,callback:function(e){t.inpSymbol=e},expression:"inpSymbol"}})],1),t._v(" "),a("div",{staticClass:"lab-buy"},[t._v("\n                    股"),a("span",{staticClass:"sp-txt"},[t._v("数：")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入交易股数"},model:{value:t.inpOrderQty,callback:function(e){t.inpOrderQty=e},expression:"inpOrderQty"}})],1),t._v(" "),a("div",{staticClass:"lab-buy"},[t._v("\n                    股"),a("span",{staticClass:"sp-txt"},[t._v("价：")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入整数或两位小数点股价"},model:{value:t.inpPrice,callback:function(e){t.inpPrice=e},expression:"inpPrice"}})],1),t._v(" "),a("div",{staticClass:"lab-buy"},[t._v("\n                    方"),a("span",{staticClass:"sp-txt"},[t._v("向：")]),t._v(" "),a("el-radio",{attrs:{label:"买"},model:{value:t.pickedRadio1,callback:function(e){t.pickedRadio1=e},expression:"pickedRadio1"}},[t._v("买")]),t._v(" "),a("el-radio",{attrs:{label:"卖"},model:{value:t.pickedRadio1,callback:function(e){t.pickedRadio1=e},expression:"pickedRadio1"}},[t._v("卖")])],1),t._v(" "),a("div",{staticClass:"lab-buy"},[t._v("\n                    涨停不卖跌停不买：\n                    "),a("el-radio",{attrs:{label:"是"},model:{value:t.pickedRadio2,callback:function(e){t.pickedRadio2=e},expression:"pickedRadio2"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"否"},model:{value:t.pickedRadio2,callback:function(e){t.pickedRadio2=e},expression:"pickedRadio2"}},[t._v("否")])],1),t._v(" "),a("div",{staticClass:"lab-buy"},[a("span",[t._v("结束时间后是否继续执行：")]),t._v(" "),a("el-radio",{attrs:{label:"是"},model:{value:t.pickedRadio3,callback:function(e){t.pickedRadio3=e},expression:"pickedRadio3"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"否"},model:{value:t.pickedRadio3,callback:function(e){t.pickedRadio3=e},expression:"pickedRadio3"}},[t._v("否")])],1),t._v(" "),a("div",[a("span",[t._v("请选择时间范围：")]),t._v(" "),a("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:t.valueTime,callback:function(e){t.valueTime=e},expression:"valueTime"}})],1)]),t._v(" "),a("el-button",{attrs:{type:"primary",id:"indexsubOrder"},on:{click:t.entrustStock}},[t._v("委托")])],1),t._v(" "),a("div",{attrs:{id:"indexPayback"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.indexTableData,border:""}},[a("el-table-column",{attrs:{prop:"ordStatus",label:"\t委托状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sendingTime",label:"发送的北京时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"clOrdId",label:"委托编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"clientId",label:"母账户编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"handlInst",label:"委托级别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"symbol",label:"六位证券代码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"securityType",label:"证券类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"securityExchange",label:"交易所类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"side",label:"买/卖"}}),t._v(" "),a("el-table-column",{attrs:{prop:"transactTime",label:"委托发送的北京时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderQty",label:"委托股数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ordType",label:"委托类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"委托价格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cumQty",label:"成交数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"leavesQty",label:"仍可撮合量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"avgPx",label:"成交均价"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",width:"100",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.indexUndo(e.row)}}},[t._v("撤单")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"}),t._v(" "),a("el-pagination",{staticStyle:{margin:"auto"},attrs:{background:"","current-page":t.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:150},on:{"current-change":t.handleCurrentChange}})],1)])])},staticRenderFns:[]};var l={inject:["reload"],name:"commonOrdinary",data:function(){return{txtsMsg:"撤单",commonOrdinaryToken:"",commonOrdinaryUserID:n.a.decipher("wsUserID"),comOrdinaryOptions:[],comOrdinaryClientID:"",comOrdinaryClientName:"",comOrdinarySymbol:"",comOrdinaryOrderQty:"",comOrdinaryPrice:"",comOrdinarySide:"",comOrdinaryTableData:[],websock:"",responseDatas:[]}},mounted:function(){this.comOrdinaryPro(),this.getReturnActual(),this.websocketInit()},methods:{getReturnActual:function(){var t=this;console.log(n.a.decipher("wsCustomerID"),n.a.decipher("wsUserID"),n.a.decipher("wsUserName"),n.a.decipher("wsUserRole")),this.commonOrdinaryUserID=n.a.decipher("wsUserID"),console.log(domain.QueryOrderEightByUserId+this.commonOrdinaryUserID+"/1/1/100"),i.a.get(domain.QueryOrderEightByUserId+this.commonOrdinaryUserID+"/1/1/100").then(function(e){if(console.log(e),"200"==e.data.httpCode){for(var a=0;a<e.data.responseEntity.pageData.length;a++){"0"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="已报":"1"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="部成":"2"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="已成":"4"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="已撤":"6"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="待撤":"8"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="拒绝":"10"==e.data.responseEntity.pageData[a].ordStatus&&(e.data.responseEntity.pageData[a].ordStatus="未报"),e.data.responseEntity.pageData[a].sendingTime=n.a.changeTime(e.data.responseEntity.pageData[a].sendingTime),e.data.responseEntity.pageData[a].transactTime=n.a.changeTime(e.data.responseEntity.pageData[a].transactTime),"0"==e.data.responseEntity.pageData[a].securityType?e.data.responseEntity.pageData[a].securityType="CS":"13"==e.data.responseEntity.pageData[a].securityType?e.data.responseEntity.pageData[a].securityType="RB":"15"==e.data.responseEntity.pageData[a].securityType&&(e.data.responseEntity.pageData[a].securityType="ETF"),"1"==e.data.responseEntity.pageData[a].side?e.data.responseEntity.pageData[a].side="买":"2"==e.data.responseEntity.pageData[a].side&&(e.data.responseEntity.pageData[a].side="卖"),"1"==e.data.responseEntity.pageData[a].securityExchange?e.data.responseEntity.pageData[a].securityExchange="SZ":"2"==e.data.responseEntity.pageData[a].securityExchange&&(e.data.responseEntity.pageData[a].securityExchange="SH"),"0"==e.data.responseEntity.pageData[a].ordType?e.data.responseEntity.pageData[a].ordType="限价委托":"1"==e.data.responseEntity.pageData[a].ordType&&(e.data.responseEntity.pageData[a].ordType="信用委托");var s="";0==(s+=e.data.responseEntity.pageData[a].symbol).length?e.data.responseEntity.pageData[a].symbol="000000":1==s.length?e.data.responseEntity.pageData[a].symbol="00000"+s:2==s.length?e.data.responseEntity.pageData[a].symbol="0000"+s:3==s.length?e.data.responseEntity.pageData[a].symbol="000"+s:4==s.length?e.data.responseEntity.pageData[a].symbol="00"+s:5==s.length&&(e.data.responseEntity.pageData[a].symbol="0"+s)}t.comOrdinaryTableData=e.data.responseEntity.pageData}}).catch(function(t){console.log(t)})},readyChat:function(t){console.log(t,this.websock.readyState),1===this.websock.readyState?(console.log("链接成功readyState === 1"),this.websocketSend(t)):0===this.websock.readyState?(console.log("正在链接"),setTimeout(this.websocketSend(t),300)):(console.log("链接失败"),this.websocketInit(),setTimeout(this.websocketSend(t),500))},websocketInit:function(){console.log(domain.authBaseWebsocketOrdinary),this.websock=new WebSocket(domain.authBaseWebsocketOrdinary),console.log(this.websock.readyState),this.websock.onopen=this.websocketOpen,this.websock.onmessage=this.websocketMessage},websocketOpen:function(t){console.log("userId_"+n.a.decipher("wsUserID")),this.websock.send("userId_"+n.a.decipher("wsUserID"))},websocketSend:function(t){console.log(t,"发送消息"),this.websock.send(t)},websocketMessage:function(t){if(console.log(t),this.responseDatas=JSON.parse(t.data),n.a.isNull(t))n.a.altPrompt("暂无回报"),this.comOrdinaryTableData=[];else if("1"==this.responseDatas.handlInst){console.log(this.responseDatas,this.responseDatas.clOrdId,this.responseDatas.ordStatus),"0"==this.responseDatas.ordStatus?this.responseDatas.ordStatus="已报":"1"==this.responseDatas.ordStatus?this.responseDatas.ordStatus="部成":"2"==this.responseDatas.ordStatus?this.responseDatas.ordStatus="已成":"4"==this.responseDatas.ordStatus?this.responseDatas.ordStatus="已撤":"6"==this.responseDatas.ordStatus?this.responseDatas.ordStatus="待撤":"8"==this.responseDatas.ordStatus?this.responseDatas.ordStatus="拒绝":"10"==this.responseDatas.ordStatus&&(this.responseDatas.ordStatus="未报"),this.responseDatas.sendingTime=n.a.changeTime(this.responseDatas.sendingTime),this.responseDatas.transactTime=n.a.changeTime(this.responseDatas.transactTime),"0"==this.responseDatas.securityType?this.responseDatas.securityType="CS":"13"==this.responseDatas.securityType?this.responseDatas.securityType="RB":"15"==this.responseDatas.securityType&&(this.responseDatas.securityType="ETF"),"1"==this.responseDatas.side?this.responseDatas.side="买":"2"==this.responseDatas.side&&(this.responseDatas.side="卖"),"1"==this.responseDatas.securityExchange?this.responseDatas.securityExchange="SZ":"2"==this.responseDatas.securityExchange&&(this.responseDatas.securityExchange="SH"),"0"==this.responseDatas.ordType?this.responseDatas.ordType="限价委托":"1"==this.responseDatas.ordType&&(this.responseDatas.ordType="信用委托");var e="";0==(e+=this.responseDatas.symbol).length?this.responseDatas.symbol="000000":1==e.length?this.responseDatas.symbol="00000"+e:2==e.length?this.responseDatas.symbol="0000"+e:3==e.length?this.responseDatas.symbol="000"+e:4==e.length?this.responseDatas.symbol="00"+e:5==e.length&&(this.responseDatas.symbol="0"+e);for(var a="0",s=0;s<this.comOrdinaryTableData.length;s++)this.responseDatas.clOrdId==this.comOrdinaryTableData[s].clOrdId&&(a="1",this.comOrdinaryTableData[s].ordStatus=this.responseDatas.ordStatus,this.comOrdinaryTableData[s].sendingTime=this.responseDatas.sendingTime,this.comOrdinaryTableData[s].clOrdId=this.responseDatas.clOrdId,this.comOrdinaryTableData[s].clientId=this.responseDatas.clientId,this.comOrdinaryTableData[s].handlInst=this.responseDatas.handlInst,this.comOrdinaryTableData[s].symbol=this.responseDatas.symbol,this.comOrdinaryTableData[s].securityType=this.responseDatas.securityType,this.comOrdinaryTableData[s].securityExchange=this.responseDatas.securityExchange,this.comOrdinaryTableData[s].side=this.responseDatas.side,this.comOrdinaryTableData[s].transactTime=this.responseDatas.transactTime,this.comOrdinaryTableData[s].orderQty=this.responseDatas.orderQty,this.comOrdinaryTableData[s].ordType=this.responseDatas.ordType,this.comOrdinaryTableData[s].price=this.responseDatas.price,this.comOrdinaryTableData[s].cumQty=this.responseDatas.cumQty,this.comOrdinaryTableData[s].leavesQty=this.responseDatas.leavesQty,this.comOrdinaryTableData[s].avgPx=this.responseDatas.avgPx);"0"==a&&this.comOrdinaryTableData.unshift(this.responseDatas)}},websockclose:function(t){console.log("close"+t)},comOrdinaryPro:function(){var t=this;this.commonOrdinaryUserID=n.a.decipher("wsUserID"),console.log(domain.indFindCustomer+this.commonOrdinaryUserID),i.a.get(domain.indFindCustomer+this.commonOrdinaryUserID).then(function(e){console.log(e),"200"==e.data.httpCode?t.comOrdinaryOptions=e.data.responseEntity:n.a.altPrompt("未发现账户名，请刷新重试")}).catch(function(t){console.log(t)})},handleClickcomOrdinary:function(){for(var t=this,e=0;e<this.comOrdinaryOptions.length;e++)this.comOrdinaryClientName==this.comOrdinaryOptions[e].clientName&&(this.commonOrdinaryClientID=this.comOrdinaryOptions[e].clientId);console.log(domain.QueryOrderEightByClientId+this.commonOrdinaryClientID+"/1/1/100"),i.a.get(domain.QueryOrderEightByClientId+this.commonOrdinaryClientID+"/1/1/100").then(function(e){if(console.log(e,n.a.getNowFormatDate()),"200"==e.data.httpCode){for(var a=0;a<e.data.responseEntity.pageData.length;a++){"0"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="已报":"1"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="部成":"2"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="已成":"4"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="已撤":"6"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="待撤":"8"==e.data.responseEntity.pageData[a].ordStatus?e.data.responseEntity.pageData[a].ordStatus="拒绝":"10"==e.data.responseEntity.pageData[a].ordStatus&&(e.data.responseEntity.pageData[a].ordStatus="未报"),e.data.responseEntity.pageData[a].sendingTime=n.a.changeTime(e.data.responseEntity.pageData[a].sendingTime),e.data.responseEntity.pageData[a].transactTime=n.a.changeTime(e.data.responseEntity.pageData[a].transactTime),"0"==e.data.responseEntity.pageData[a].securityType?e.data.responseEntity.pageData[a].securityType="CS":"13"==e.data.responseEntity.pageData[a].securityType?e.data.responseEntity.pageData[a].securityType="RB":"15"==e.data.responseEntity.pageData[a].securityType&&(e.data.responseEntity.pageData[a].securityType="ETF"),"1"==e.data.responseEntity.pageData[a].side?e.data.responseEntity.pageData[a].side="买":"2"==e.data.responseEntity.pageData[a].side&&(e.data.responseEntity.pageData[a].side="卖"),"1"==e.data.responseEntity.pageData[a].securityExchange?e.data.responseEntity.pageData[a].securityExchange="SZ":"2"==e.data.responseEntity.pageData[a].securityExchange&&(e.data.responseEntity.pageData[a].securityExchange="SH"),"0"==e.data.responseEntity.pageData[a].ordType?e.data.responseEntity.pageData[a].ordType="限价委托":"1"==e.data.responseEntity.pageData[a].ordType&&(e.data.responseEntity.pageData[a].ordType="信用委托");var s="";0==(s+=e.data.responseEntity.pageData[a].symbol).length?e.data.responseEntity.pageData[a].symbol="000000":1==s.length?e.data.responseEntity.pageData[a].symbol="00000"+s:2==s.length?e.data.responseEntity.pageData[a].symbol="0000"+s:3==s.length?e.data.responseEntity.pageData[a].symbol="000"+s:4==s.length?e.data.responseEntity.pageData[a].symbol="00"+s:5==s.length&&(e.data.responseEntity.pageData[a].symbol="0"+s)}t.comOrdinaryTableData=e.data.responseEntity.pageData}}).catch(function(t){console.log(t)})},sureOrder:function(){for(var t=this,e=0;e<this.comOrdinaryOptions.length;e++)this.comOrdinaryClientName==this.comOrdinaryOptions[e].clientName&&(this.comOrdinaryClientID=this.comOrdinaryOptions[e].clientId);this.readyChat("clientId_"+this.commonOrdinaryClientID),console.log(this.responseDatas,this.responseDatas.clOrdId);var a=/^[0-9]\d*$/,s=this.comOrdinarySymbol.substr(0,1),r=this.comOrdinarySymbol.substr(0,2);return console.log(s,r,this.comOrdinarySymbol,this.comOrdinaryOrderQty.substr(0,1)),n.a.isNull(this.comOrdinaryClientName)?(n.a.altPrompt("产品名不能为空"),!1):"6"!=this.comOrdinarySymbol.length||!a.test(this.comOrdinarySymbol)||"00"!=r&&"30"!=r&&"15"!=r&&"13"!=r&&"2"!=s&&"6"!=s?(n.a.altPrompt("股票代码错误"),!1):(console.log("股票代码正确"),a.test(this.comOrdinaryOrderQty)&&0!=this.comOrdinaryOrderQty.substr(0,1)&&0!=n.a.goAliquot(this.comOrdinaryOrderQty)?(console.log("股数正确"),n.a.isNull(this.comOrdinaryPrice)||0==this.comOrdinaryPrice?(n.a.altPrompt("股价不能为空或零"),!1):a.test(this.comOrdinaryPrice)&&0!=this.comOrdinaryPrice.substr(0,1)||/^[0-9]+(.[0-9]{2})?$/.test(this.comOrdinaryPrice)?(console.log("股价正确"),n.a.isNull(this.comOrdinarySide)?(n.a.altPrompt("请选择买卖方向"),!1):("买"==this.comOrdinarySide?this.comOrdinarySide="1":"卖"==this.comOrdinarySide&&(this.comOrdinarySide="2"),console.log(domain.comOrdinaryNewActualOrder,this.comOrdinaryClientID,this.comOrdinarySymbol,this.comOrdinarySide,this.comOrdinaryOrderQty,this.comOrdinaryPrice),void i.a.post(domain.comOrdinaryNewActualOrder,{ClientID:this.comOrdinaryClientID,Symbol:this.comOrdinarySymbol,Side:this.comOrdinarySide,OrderQty:this.comOrdinaryOrderQty,Price:this.comOrdinaryPrice}).then(function(e){console.log(e),"200"==e.data.httpCode?(t.$message({type:"success",message:"下单成功"}),t.comOrdinarySymbol="",t.comOrdinarySide="",t.comOrdinaryOrderQty="",t.comOrdinaryPrice=""):(n.a.altPrompt("下单失败"),t.comOrdinarySymbol="",t.comOrdinarySide="",t.comOrdinaryOrderQty="",t.comOrdinaryPrice="",t.handleClickcomOrdinary())}).catch(function(t){console.log(t)}))):(n.a.altPrompt("股价错误"),!1)):(n.a.altPrompt("股数错误"),!1))},comOrdinaryUndo:function(t,e){var a=this;if(console.log(t,this.comOrdinaryClientName,domain.comOrdinaryCancelActualOrder+t.clOrdId+"/"+t.clientId),"已报"==t.ordStatus)console.log("已报");else if("部成"==t.ordStatus)console.log("部成");else{if("已成"==t.ordStatus)return n.a.altPrompt("已成交，无法撤单"),!1;if("已撤"==t.ordStatus)return n.a.altPrompt("已撤单，请勿重复点击"),!1;if("待撤"==t.ordStatus)console.log("待撤");else{if("拒绝"==t.ordStatus)return n.a.altPrompt("已拒绝下单，无法撤单"),!1;if("未报"==t.ordStatus)return n.a.altPrompt("未报状态，无法撤单"),!1}}this.$confirm("此操作将撤销此单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.a.get(domain.comOrdinaryCancelActualOrder+t.clOrdId+"/"+t.clientId).then(function(t){console.log(t),"200"==t.data.httpCode?(n.a.altPrompt("撤单成功"),n.a.isNull(a.comOrdinaryClientName)?a.reload():a.handleClickcomOrdinary()):n.a.altPrompt("撤单失败")}).catch(function(t){console.log(t)})}).catch(function(){a.$message({type:"info",message:"已取消撤单"})})},comOrdinaryMethod:function(t){t.row,t.column,t.rowIndex,t.columnIndex}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"comOrdinary"}},[a("div",{attrs:{id:"comOrdinary-content"}},[a("div",{attrs:{id:"comOrdinaryClientID"}},[t._m(0),t._v(" "),a("el-select",{attrs:{placeholder:"请选择账户名"},on:{change:t.handleClickcomOrdinary},model:{value:t.comOrdinaryClientName,callback:function(e){t.comOrdinaryClientName=e},expression:"comOrdinaryClientName"}},t._l(t.comOrdinaryOptions,function(t){return a("el-option",{key:t.clientName,attrs:{value:t.clientName}})}))],1),t._v(" "),a("div",{attrs:{id:"comOrdinarySymbol"}},[a("span",[t._v("证券代码:")]),t._v(" "),a("el-input",{attrs:{maxlength:"6",placeholder:"请输入证券代码"},model:{value:t.comOrdinarySymbol,callback:function(e){t.comOrdinarySymbol=e},expression:"comOrdinarySymbol"}},[t._v("六位证券代码")])],1),t._v(" "),a("div",{attrs:{id:"comOrdinaryOrderQty"}},[a("span",[t._v("委托股数:")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入股票数量"},model:{value:t.comOrdinaryOrderQty,callback:function(e){t.comOrdinaryOrderQty=e},expression:"comOrdinaryOrderQty"}},[t._v("委托股票数量")])],1),t._v(" "),a("div",{attrs:{id:"comOrdinaryPrice"}},[a("span",[t._v("委托价格:")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入整数或两位小数点股价"},model:{value:t.comOrdinaryPrice,callback:function(e){t.comOrdinaryPrice=e},expression:"comOrdinaryPrice"}},[t._v("委托股票价格")])],1),t._v(" "),a("div",{attrs:{id:"comOrdinarySide"}},[a("span",{staticClass:"comOrdinarySideSpan1"},[t._v("方")]),a("span",{staticClass:"comOrdinarySideSpan2"},[t._v("向:")]),t._v(" "),a("el-radio",{attrs:{label:"买"},model:{value:t.comOrdinarySide,callback:function(e){t.comOrdinarySide=e},expression:"comOrdinarySide"}},[t._v("买")]),t._v(" "),a("el-radio",{attrs:{label:"卖"},model:{value:t.comOrdinarySide,callback:function(e){t.comOrdinarySide=e},expression:"comOrdinarySide"}},[t._v("卖")])],1),t._v(" "),[a("el-button",{attrs:{type:"primary",id:"sureOrder"},on:{click:t.sureOrder}},[t._v("下单")])]],2),t._v(" "),a("div",{attrs:{id:"comOrdinaryPayback"}},[a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.comOrdinaryTableData,"span-method":t.comOrdinaryMethod,border:""}},[a("el-table-column",{attrs:{prop:"ordStatus",label:"\t委托状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sendingTime",label:"发送的北京时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"clOrdId",label:"委托编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"clientId",label:"母账户编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"handlInst",label:"委托级别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"symbol",label:"六位证券代码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"securityType",label:"证券类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"securityExchange",label:"交易所类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"side",label:"买/卖"}}),t._v(" "),a("el-table-column",{attrs:{prop:"transactTime",label:"委托发送的北京时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderQty",label:"委托股数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ordType",label:"委托类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"委托价格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cumQty",label:"成交数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"leavesQty",label:"仍可撮合量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"avgPx",label:"成交均价"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",width:"100",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.comOrdinaryUndo(e.row)}}},[t._v(t._s(t.txtsMsg))])]}}])})],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("账"),e("span",{staticClass:"spanname"},[this._v("户")]),this._v("名:")])}]};var h={name:"tabsEntrust",data:function(){return{tabsParam:["个人中心","算法单委托","普通单委托"],nowIndex:2,years:"",months:"",days:"",nowTimes:""}},components:{personCenter:a("VU/8")(r,o,!1,function(t){a("qG0M")},null,null).exports,index:a("VU/8")(d,p,!1,function(t){a("5WJN")},null,null).exports,commonOrdinary:a("VU/8")(l,c,!1,function(t){a("HeQi")},null,null).exports},mounted:function(){setInterval(this.showTime,1e3)},methods:{toggleTabs:function(t){this.nowIndex=t},showTime:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();this.years=e,this.months=a,this.days=s,this.nowTimes=t.toLocaleTimeString()},loginAginEnt:function(){this.$router.push({name:"login",param:""})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tabsChoice"}},[a("ul",{staticClass:"tabs"},t._l(t.tabsParam,function(e,s){return a("li",{key:e,staticClass:"li-tab",class:{active:s!=t.nowIndex},on:{click:function(e){t.toggleTabs(s)}}},[t._v(t._s(e))])})),t._v(" "),a("span",{staticClass:"tabsChoice",on:{click:t.loginAginEnt}},[t._v("退出系统")]),t._v(" "),a("p",{staticStyle:{"margin-top":"20px"}},[t._v(t._s(t.years)+"年"+t._s(t.months)+"月"+t._s(t.days)+"日   "+t._s(t.nowTimes))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.nowIndex,expression:"nowIndex===0"}],staticClass:"divTab"},[a("personCenter")],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.nowIndex,expression:"nowIndex===1"}],staticClass:"divTab"},[a("index")],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2===t.nowIndex,expression:"nowIndex===2"}],staticClass:"divTab"},[a("commonOrdinary")],1)])},staticRenderFns:[]};var y=a("VU/8")(h,u,!1,function(t){a("vJTu")},null,null);e.default=y.exports},qG0M:function(t,e){},vJTu:function(t,e){}});
//# sourceMappingURL=2.55c4c4ded8a63007ce24.js.map